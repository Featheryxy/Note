## 计算机硬件

**I/O** 负责把键盘、鼠标、显示器等周边设备和主机连接在一起，实现数据的输入与输出 

**总线**是连接到CPU中**数据引脚**、**地址引脚**、**控制引脚**上的电路的统称 

CPU和PIO在**时钟发生器**产生的时钟信号下同步作用 

**位数**：CPU上**数据总线的条数**，或者CPU内部**参与运算的寄存器的容量**，都可以作为衡量CPU性能的比特数  

**时钟发生器**：输出时钟信号的元件  CPU上有地址总线引脚和数据总线引脚  

**端口**就是I/O与外部设备之间输入输出数据的场所  

磁盘：磁头一次性读取或写入一个磁道上的一个扇区，扇区大小一般为512Bytes,扇区(sector)是磁盘的物理存储单位。，Windows在逻辑（软件）上读写磁盘的单位是簇(cluster)，它的长度是扇区的整数倍，其实际长度根据硬盘容量确定，有512字节（1个簇 = 1个扇区）、1 KB（1个簇 = 2个扇区）同一个簇中不能存放不同的文件，否则无法只删除簇中的部分文件

**磁盘（主要指硬盘）缓存**：指将从磁盘中读取的数据暂时保存在内存中，当需要再次读取相同的数据时，就可以不访问磁盘，而是直接从内存中快速读取。
**虚拟内存(virtual memory)**：将磁盘的一部分模拟成内存来使用

DMA（Direct Memory Access，直接存储器访问）:经过CPU而直接从外部设备读写内存的行为

计算机中有一个用于保存要显示的信息的存储器，这一存储器称为显存(Video RAM，VRAM)。程序只要将数据写入显存，数据就可以在显示器上显示出来。显卡上装有独立于内存的显存和专用的图像处理器GPU（Graphics Processing Unit，图形处理器

集成电路(Integrated Circuit，IC) 

I/O控制器（简称为I/O）：用于对主机和外部设备的电信号进行相互转换的芯片。由于数据格式和电压不同，所以计算机主机并不能和外部设备直接相连，为此我们需要使用I/O控制器。
I/O控制器中有用于临时存放输入输出数据的存储器，这种存储器被称为端口。端口的英文单词port直译过来是港口的意思
一个I/O控制器可以控制一个外部设备，也可以控制多个外部设备，因此我们就需要用端口号来区分不同的端口。端口号也被称为I/O地址

IRQ Interrupt Request（中断请求）

发出中断请求的是连接外部设备的I/O控制器，运行中断处理程序的是CPU。要识别具体是哪个设备发出的中断请求，我们需要使用名为中断号的编号，而不是端口号。设备管理器属性的IRQ项目中显示的0xFFFFFFF7(- 9)，就表示由显示器发出的中断请求编号为0xFFFFFFF7(- 9)

CPU接受来自中断控制器的中断请求之后，会从当前运行的主程序切换到中断处理程序。中断处理程序要做的第一件事，就是将CPU中所有寄存器的值都暂存到内存的栈空间中。当中断处理程序完成与外部设备之间的输入输出操作之后，最后还要将暂存到栈中的值恢复到寄存器中，继续运行主程序。
DMA是指外部设备不经过CPU中转，直接和内存进行数据传输，常用于网络、磁盘等设备。使用DMA可以将大量数据快速传输到内存中，它能够节省CPU中转所需的时间，而且还可以避免高速的CPU等待低速的外部设备，从而提高其他任务的处理效率。DMA是通过名为DMA控制器(DMA Controller，DMAC)的芯片实现的。DMA控制器中有多个用于进行DMA的窗口，这些窗口通过名为DMA通道的编号来进行区分，进行DMA的外部设备也是通过分配给它们的DMA通道来进行区分的
与DMA相对，通过CPU在外部设备和内存之间传输数据的方式称为PIO(Programmed I/O)

Direct Memory Access（直接内存访问）负责在计算机主机与外部设备之间进行输入输出的芯片称为I/O控制器，简称I/O。
为了区分连接到计算机上的不同外部设备，每个设备会被分配一个I/O地址。
DMA是指外部设备不经过CPU中转，直接与计算机内存传输数据。网络、磁盘等数据量大的外部设备会使用DMA，不同设备会通过DMA通道来进行区分

## 五、算术逻辑单元ALU

（Arithmetic and Logic Unit）  

- ALU有两个单元，一个算术单元和一个逻辑单元
  - **算术单元**负责计算机里的所有数字操作
  - **逻辑单元**负责or and not xor,检测数值是否为0的电路
  - 逻辑运算：NOT， AND， OR，XOR(异或：同为0，异为1) 
  - 逻辑右移：高位补充0  
  - 算术右移：高位补充符号位 
  - 符号扩展：将一个8位二进制数在不改变其值的情况下转换成16位二进制数或者32位二进制数时，需要在高位补充符号位 

## 六、寄存器和内存

- 锁存器（Gated Latch）：存1位

- 寄存器（Register）：存8位，能存一个数字，这个数字有多少位，叫位宽   64位的计算机，CPU一次读取的最大量为64位。寄存器中存放的值可能是数据，也可能是数据的地址

- 随机存取存储器：RAM（Random Access Memory）由寄存器组合，内存条上的小黑块
  
  - 只能在有电的情况下存储东西，可以随时访问任何位置

- 内存
  
  - 随机存储器（RAM）：可以从中读取数据，也可以写入数据。当机器电源关闭时，存于其中的数据就会丢失。我们通常购买或升级的内存条就是用作电脑的内存，内存条（SIMM）就是将RAM集成块集中在一起的一小块电路板，它插在计算机中的内存插槽上，以减少RAM集成块占用的空间
  - 只读存储器（ROM -- Read Only Memory）：在制造ROM的时候，信息（数据或程序）就被存入并永久保存。这些信息只能读出，一般不能写入，即使机器停电，这些数据也不会丢失。ROM一般用于存放计算机的基本程序和数据，如BIOS ROM
    - BIOS（Basic Input Output System）是一套程序，写死在主板上面的一个内存芯片中，这个内存芯片在没有通电时也能够将数据记录下来，是系统在开机的时候首先回去读取的一个小程序。控制着开机时各项硬件参数的取得
  - 高速缓存（CACHE）：它位于CPU与内存之间，是一个读写速度比内存更快的存储器
  - 内存中每个字节（1字节8比特）都分配了一个被称为地址的编号 ，所有的编程语言中使用的内存地址都不是真实的物理地址，而是虚拟地址。 64位机器里的虚拟地址长度是64位, 实际占40位，虚拟地址一般0x7f打头 虚拟地址和物理地址通过分段线性映射，映射关系存在页表里 。虚拟内存的实现方式分为分页式和分段式，Windows采用的是分页式，以页面为单位在内存和磁盘之间进行置换

- DDR （双倍数据传送速度 Double Data Rate），一次工作周期中进行两次数据传送
  
  - 型号 DDR3-1600 | 数据宽度 64bit | 内部频率 200MHz | 频率速度 1600 |带宽（频率 x 宽度） 1600*64/8/1000 = 12.8Gbyte/sec

- 多通道：将两个内存汇整在一起，提高CPU一次读取的速度，如果一只内存可达64位，两支内存就可以达到128位

- 内存芯片上有很多引脚，这些引脚负责连接电源，以及输入输出地址信号、数据信号和控制信号，通过指定地址，就可以对数据进行读写。  VCC和GND是电源，  A0～A9是地址信号，地址空间为2^10=1024  D0～D7是数据信号，一次读写为8bit, 该内存为1024Byte, i.e.,1KB  RD（read，读取的简写）和WR（write，写入的简写）是控制信号。  VCC和GND连接电源，其他引脚则有0或1的信号。大多数情况下，直流电压 + 5V表示1，0V表示0。 

- 文件中存储数据的基本单位时1个字节

## 七、中央处理单元CPU

### 1. 简介

- （Central Processing Unit）CPU= RAM + Register + ALU

- CPU内部是由**寄存器、控制器(control unit)、运算器(arithmetic unit)和时钟(clock)**四个部分组成的，它们之间通过电流信号相互连通。 

  - 寄存器是用来存放指令、数据这些操作对象的空间。一个CPU内部通常有几个到几十个不等的寄存器。 
  - 控制器负责将内存中的指令和数据读入寄存器，并根据指令的执行结果对计算机进行控制。 
  - 运算器负责运算从内存中读入寄存器的数据 
  - 时钟负责产生控制CPU工作节律的时钟信号 

- 运算器由下4种组成

  1. 算数逻辑单元ALU：算术和逻辑运算
  2. 累加寄存器AC：运算结果或源操作数的存放区
  3. 数据缓冲寄存器DR：暂时存放内存的指令或数据
  4. 状态条件寄存器PSW：保存指令运行结果的条件码内容，如溢出标志

- 控制器由下4种组成

  1. 指令寄存器IR
  2. 程序计数器PC：记录着程序下一条指令的地址，分支和循环主要通过跳转指令来控制程序计数器来实现 
  3. 地址寄存器AR
  4. 指令译码器ID：分析指令操作码

- 程序=指令+数据 ，CPU 根据指令周期的不同阶段分别去取指令或数据

- 有微指令集

  负责执行程序，程序由一个个操作（指令：指示计算机要干什么）组成，连续的存储在内存中，。CPU取指令-->解码-->执行的速度叫时钟速度，单位HZ，超频（提高时钟）能提高性能，低频省电.总线（bus）链接着cpu和RAM，在cpu中加入cache,从RAM运输大量数据到Cache，不让cpu空等

- CPU 架构

  - RISC （Reduced Instruction Set Computer）-- 精简指令集
  - CICS （Complex Instruction Set Computer）-- 复杂指令集
    - 常用于个人计算机，X86架构（因为CPU的代号为8086）

- 多核 -- 多个ALU（算术逻辑单元）

- 不同CPU有着不同的脚位，如 i7-2600 使用 LGA1155 脚位而 i7-4790使用FCLGA1150脚位，不同的主板也有着不同的脚位，选购CPU时，应注意主板的选择

- 一个CPU中有很多种寄存器，如累加器，程序计数器，指令计数器 

  - 标志寄存器会根据上次运算的结果，保存累加器和通用寄存器的值

- 函数调用时使用调用指令和返回指令， 调用指令会将函数调用的下一条指令的地址保存到名为栈的内存空间中。函数体执行完毕后，会在最后（出口）执行返回指令 返回指令的功能是将保存在栈中的地址设置到程序计数器中

### 2. CPU性能

- CPU性能对比，不同的CPU之间不能单纯的以频率来判断运算效能，每颗CPU的微指令集不相同，架构也不见得一样
- 外频：CPU与外部组件进行数据传输时的速度，
- 倍频：CPU内部用来加速工作效能的一个倍速
- CPU频率（主频）：每秒的工作次数。 = 外频x倍频
  - 3.6GHz， CPU一秒内可以进行3.6*10^9 次工作
  - Intel Core 2 E8400 的内频为 3.0GHz， 而外频是 333MHz，故 倍频为 9倍（3.0G = 333M x 9， 1G = 1000M）
- 超频：将CPU的倍频或者外频通过主板的设定功能更改成较高频率的一种方式。但因为 CPU 的倍频通常在出厂时已经被锁定而无法修改 ，因此较常被超频的为外频

### 3. 超线程

超线程（Hyper-Threading， HT）

在每一个CPU内部将重要的缓存器（register）分成两群，而让程序分别使用这两群 register。也就是说，可以有两个程序同时竞争CPU的运算单元，而非通过操作系统的多任务切换。

## 九、软件工程

- Debug 调试
- 文档和注释 - readme, comment  
- Alpha开发版本（错误很多，经常在公司内部测试）  
- Beta测试版本（软件接近完成，公司有时会向公众发布beta版，以班助发现问题。用户就像免费的QA（Quality Assurance testing 质量控制）团队）

## 十、内存&amp;储存介质

纸卡Paper punch cards  
延迟线存储器  Delay Line Memory  
磁芯 Magnetic Core Memory  
磁带 Magnetic Tape  
磁鼓 Magnetic Drum Memory  
硬盘 Hard Disk Drives  
内存层次结构  Memory Hierarchy  
软盘 Floppy Disk  
光盘 Compact Disk  
固态硬盘 Solid State Drives  

## 十一、文件系统

1. 把空间划分成一块块

2. 文件拆分存在多个块里
- 碎片整理文件的增删改查会不可避免的造成文件散落在各个块里，如果是磁带这样的存储介质就会造成问题，所以做碎片整理

## 十二、压缩

Windows标准图像数据的格式是BMP（bitmap），显示器或打印机输出的点(bit)可以直接进行映射(mapping)

无损压缩：能够恢复到压缩前状态的压缩方式，e.g.,PNG

有损压缩：不能恢复到压缩前状态的压缩方式, e.g.,JPEG, GIF

## 十三、单位

### 1. 容量单位

- 1 Byte （字节）= 8 bits（位）， 1 K = 1024 byte（字节） 

- 500G 硬盘 = 466G（实际），商家使用1000进制， 容量已1024为进制

  $$
  \frac{500*1000*1000*1000 (Byte)}{ 1024*1024*1024} = 465.6 G
  $$


### 2. 速度单位

- HZ --- 赫兹 频率的单位（周期/秒）

- k（千），M（百万），G（十亿），T（万亿）

- 通常，小写的“k”表示1000进位，大写的“K”表示1024进位 

- 网络传输使用 bit 为单位，常用单位为 Mbps （Mbits per second）

- 20M/5M传输速度 = 每秒 2.5Mbyte/ 每秒 625Kbyte 的下载/上传速度

  $$
  1 Byte = 8 bits \\
  20M = 20 Mbit = 20 / 8  = 2.5 M Byte \\
  5M = 5Mbit / 8 =0.625 M byte
  $$


### 3. 差别

- 1G (Bytes) = 1024 x 1024 x 1024 Bytes

- 1G Hz = 1000 x 1000 x 1000 Hz
